최근 ETRI에서 개발한 스스로 배워 수면 상담해주는 AI 에이전트와 관련하여, Python을 사용한 간단한 수면 상담 AI 예제 코드를 작성하였다. 이 코드는 사용자의 수면 패턴을 분석하고, 수면 개선을 위한 기본적인 조언을 제공하는 기능을 포함하고 있다.

먼저, 필요한 라이브러리를 설치해야 한다. `pandas`와 `scikit-learn`을 사용하여 데이터를 처리하고 모델을 구축할 것이다.

```python
# 필요한 라이브러리 설치
!pip install pandas scikit-learn
```

이제 수면 데이터를 처리하고, 간단한 머신러닝 모델을 구축하여 사용자에게 수면 개선 조언을 제공하는 코드를 작성해 보겠다.

```python
import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.tree import DecisionTreeClassifier

# 수면 데이터를 생성한다.
data = {
    '수면시간(시간)': [6, 7, 5, 8, 4, 9, 6, 5, 7, 8],
    '자주졸림(0: 아니오, 1: 예)': [1, 0, 1, 0, 1, 0, 1, 1, 0, 0],
    '스트레스수준(1-10)': [6, 4, 7, 3, 8, 2, 5, 6, 4, 3]
}

# 데이터프레임 생성
df = pd.DataFrame(data)

# 입력 변수(X)와 목표 변수(y)를 설정한다.
X = df[['수면시간(시간)', '스트레스수준(1-10)']]
y = df['자주졸림(0: 아니오, 1: 예)']

# 데이터를 학습 세트와 테스트 세트로 나눈다.
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# 의사결정 나무 모델을 구축한다.
model = DecisionTreeClassifier()
model.fit(X_train, y_train)

# 사용자 입력을 받아 수면 상담을 제공하는 함수 정의
def 수면_상담(수면시간, 스트레스수준):
    예측 = model.predict([[수면시간, 스트레스수준]])
    if 예측[0] == 1:
        return "수면 개선이 필요합니다. 수면 시간을 늘리고 스트레스를 줄여보세요."
    else:
        return "수면 상태가 양호합니다. 현재의 생활 패턴을 유지하세요."

# 사용자 입력 예시
사용자_수면시간 = 6  # 예: 6시간
사용자_스트레스수준 = 5  # 예: 스트레스 수준 5
상담결과 = 수면_상담(사용자_수면시간, 사용자_스트레스수준)

print(상담결과)
```

위 코드는 기본적인 수면 상담 AI 에이전트를 구현하는 예제이다. 사용자의 수면 시간과 스트레스 수준을 입력받아, 의사결정 나무 모델을 통해 수면 개선이 필요한지를 판단하고 간단한 조언을 제공한다. 이와 같은 기능은 수면 건강 관리에 도움을 줄 수 있다.